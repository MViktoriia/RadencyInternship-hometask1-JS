let e=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+=(t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_"),"");var t=[{id:"1",name:"Shopping list",created:"2023-04-20",category:"Task",content:"Tomato, bread"},{id:"2",name:"The theory of evolution",created:"2023-04-23",category:"Random Thought",content:"The evolution is ..."},{id:"3",name:"New feature",created:"2023-05-06",category:"Task",content:"Add new feature until 31/07/2023"},{id:"4",name:"Motivation",created:"2023-06-17",category:"Quote",content:"Believe you can and you're halfway there. Theodore Roosevelt"},{id:"5",name:"New feature",created:"2023-07-08",category:"Task",content:"Add new feature until 30/07/2023"},{id:"6",name:"Manicure",created:"2023-07-29",category:"Task",content:"Manicure 30/07/2023 replaced to 09/08/2023 "},{id:"7",name:"Piknik",created:"2023-07-29",category:"Idea",content:"Prepare small piknik in park on Sunday 06/08/2023 "}];const n=[{category:"Task",icon:"shopping_cart"},{category:"Random Thought",icon:"psychology"},{category:"Idea",icon:"lightbulb"},{category:"Quote",icon:"format_quote"}];function o(e){return(e.match(/(0?[1-9]|[12][0-9]|3[01])\/(0?[1-9]|1[012])\/((19|20)\d\d)/g)||[]).join(",")}const a={notesTableBody:document.querySelector(".notes-body"),createNoteBtn:document.querySelector(".create-notes-button"),closeModalBtn:document.querySelector(".button-close"),formEl:document.querySelector(".create-note-form"),submitFormBtn:document.querySelector(".button-add-note"),submitFormBtnEdit:document.querySelector(".button-edit-note"),backdropNoteEl:document.querySelector(".backdrop-note"),noteNameInput:document.querySelector("#note-name"),noteDateInput:document.querySelector("#note-date"),noteContentInput:document.querySelector("#note-content"),noteCategorySelect:document.querySelector("#note-category"),showArchiveSelect:document.querySelector("#show-archive"),summaryNotesTableBodyEl:document.querySelector(".summary-notes-body")},d=[...t],c=[];let r={};function i(e){a.notesTableBody.innerHTML="",e.map((e=>{!function(e,t){const n=t.find((t=>t.category===e.category)),d=document.createElement("tr");d.id=e.id;const c=document.createElement("td");c.innerHTML=`<span class="material-symbols-outlined category">${n.icon}</span>`,d.appendChild(c);const r=document.createElement("td");r.innerText=e.name,r.classList.add("table-data-note-name"),d.appendChild(r);const i=document.createElement("td");i.innerText=e.created,d.appendChild(i);const l=document.createElement("td");l.innerText=e.category,l.classList.add("table-data-note-category"),d.appendChild(l);const s=document.createElement("td");s.innerText=e.content,s.classList.add("table-data-note-content"),d.appendChild(s);const u=document.createElement("td");u.innerText=o(e.content),u.classList.add("table-data-note-dates"),d.appendChild(u);const m=document.createElement("td");m.innerHTML='<span class="material-symbols-outlined edit">edit</span>',d.appendChild(m);const p=document.createElement("td");p.innerHTML='<span class="material-symbols-outlined archive">archive</span>\n  <span class="material-symbols-outlined unarchive is-hidden">unarchive</span>',d.appendChild(p);const h=document.createElement("td");h.innerHTML='<span class="material-symbols-outlined delete">delete</span>',d.appendChild(h),a.notesTableBody.appendChild(d)}(e,n)}));document.querySelectorAll(".delete").forEach((e=>{e.addEventListener("click",(()=>function(e){noteToDeliteIndex=d.findIndex((t=>t.id===e)),d.splice(noteToDeliteIndex,1),i(d),l(d,c,n)}(e.parentElement.parentElement.id)))}));document.querySelectorAll(".edit").forEach((e=>{e.addEventListener("click",(()=>{return t=e,s(),a.submitFormBtn.classList.add("is-hidden"),a.submitFormBtnEdit.classList.remove("is-hidden"),id=t.parentElement.parentElement.id,r.id=id,a.noteNameInput.value=t.parentElement.parentElement.children[1].innerText,a.noteDateInput.value=function(e){let t=e.getDate();t<10&&(t="0"+t);let n=e.getMonth()+1;return n<10&&(n="0"+n),e.getFullYear()+"-"+n+"-"+t}(new Date(Date.parse(t.parentElement.parentElement.children[2].innerText))),a.noteDateInput.setAttribute("disabled","disabled"),a.noteCategorySelect.value=t.parentElement.parentElement.children[3].innerText,void(a.noteContentInput.value=t.parentElement.parentElement.children[4].innerText);var t}))}));const t=document.querySelectorAll(".archive"),u=document.querySelectorAll(".unarchive");t.forEach((e=>{e.addEventListener("click",(t=>function(e,t){noteToArchivate=d.find((t=>t.id===e)),c.push(noteToArchivate),noteToArchivateIndex=d.findIndex((t=>t.id===e)),d.splice(noteToArchivateIndex,1),i(d),l(d,c,n)}(e.parentElement.parentElement.id)))})),u.forEach((e=>{e.addEventListener("click",(t=>function(e,t){noteToUnarchivate=c.find((t=>t.id===e)),d.push(noteToUnarchivate),noteToUnarchivateIndex=c.findIndex((t=>t.id===e)),c.splice(noteToUnarchivateIndex,1),i(c),l(d,c,n);const o=document.querySelectorAll(".archive"),a=document.querySelectorAll(".unarchive");o.forEach((e=>e.classList.add("is-hidden"))),a.forEach((e=>e.classList.remove("is-hidden")))}(e.parentElement.parentElement.id)))}))}function l(e,t,n){a.summaryNotesTableBodyEl.innerHTML="",n.map((n=>{const o=document.createElement("tr"),d=document.createElement("td");d.innerHTML=`<span class="material-symbols-outlined category">${n.icon}</span>`,o.appendChild(d);const c=document.createElement("td");c.innerText=`${n.category}`,o.appendChild(c);const r=document.createElement("td");r.innerText=`${e.filter((e=>e.category===n.category)).length}`,o.appendChild(r);const i=document.createElement("td");i.innerText=`${t.filter((e=>e.category===n.category)).length}`,o.appendChild(i),a.summaryNotesTableBodyEl.appendChild(o)}))}function s(){a.backdropNoteEl.classList.toggle("is-hidden")}function u(){a.backdropNoteEl.classList.toggle("is-hidden"),a.formEl.reset(),a.noteDateInput.removeAttribute("disabled","false"),a.submitFormBtn.classList.toggle("is-hidden"),a.submitFormBtnEdit.classList.toggle("is-hidden")}document.addEventListener("DOMContentLoaded",(()=>i(d))),document.addEventListener("DOMContentLoaded",(()=>l(d,c,n))),a.createNoteBtn.addEventListener("click",s),a.closeModalBtn.addEventListener("click",u),a.submitFormBtn.addEventListener("click",(function(t){t.preventDefault();const o=new FormData(a.formEl);if(""===a.noteNameInput.value)return void alert("Please enter note name");const r={id:e(),name:o.get("note-name"),created:o.get("note-date"),category:o.get("note-category"),content:o.get("note-content"),archived:!1};d.push(r),i(d),l(d,c,n),u()})),a.submitFormBtnEdit.addEventListener("click",(function(e){e.preventDefault(),editdNoteIndex=d.indexOf(notes.find((e=>e.id===r.id))),r.name=a.noteNameInput.value,r.created=a.noteDateInput.value,r.category=a.noteCategorySelect.value,r.content=a.noteContentInput.value,r.dates=o(a.noteContentInput.value),r.archived=!1,d.splice(editdNoteIndex,1,r),i(d),l(d,c,n),r={},u()})),a.showArchiveSelect.addEventListener("change",(function(e){switch(e.target.value){case"archived":i(c);const e=document.querySelectorAll(".archive"),t=document.querySelectorAll(".unarchive");e.forEach((e=>e.classList.add("is-hidden"))),t.forEach((e=>e.classList.remove("is-hidden")));break;case"active":i(d)}}));
//# sourceMappingURL=index.83b33fe7.js.map
